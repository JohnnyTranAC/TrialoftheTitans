<aura:component implements="flexipage:availableForAllPageTypes, lightning:isUrlAddressable" access="global">

    <aura:handler name="init" value="{!this}" action="{!c.OnInit}"/>
    <aura:handler name="UpdateStageEvent" event="c:UpdateStageEvent" action="{!c.UpdateStage}"/>
    <aura:handler name="UpdateQAListEvent" event="c:UpdateQAListEvent" action="{!c.QAEvent}"/>
    <aura:handler name="StartInterviewEvent" event="c:StartInterviewEvent" action="{!c.SetHero}"/>

    <!--Main container component for the QC Interview app; manages and stores data for other QC Interview app components-->
    <aura:attribute name="Stage"        type="String" default="Start"/>
    <aura:attribute name="Cohort"       type="QCCohortWrapper"/>
    <!--aura:attribute name="CohortId"     type="String"/-->
    <aura:attribute name="CurrentHero"  type="Account"/>
    <aura:attribute name="Week"         type="String"/>
    <aura:attribute name="CurrentQAList" type="QC_Question_Answer__c[]"/>
    <aura:attribute name="Start" type="boolean" default="false"/>
    <aura:attribute name="Interview" type="boolean" default="true"/>
    <aura:attribute name="End" type="boolean" default="false"/>



    <!-- This header section shows the currently active stage - (Begin) -->
    <div>
        <div>
            <div class="boxBackground slds-box slds-grid slds-gutters slds-align_absolute-center">
                <div class="{!v.Stage=='Start' ? 'active ' : ''     + 'boxGrid slds-col slds-size_2-of-12 slds-m-horizontal_xx-small slds-align_absolute-center'}"><p>Start</p></div>
                <div class="{!v.Stage=='Interview' ? 'active ' : '' + 'boxGrid slds-col slds-size_2-of-12 slds-m-horizontal_xx-small slds-align_absolute-center'}">Interview</div>
                <div class="{!v.Stage=='End' ? 'active ' : ''       + 'slds-col slds-size_2-of-12 slds-m-horizontal_xx-small slds-align_absolute-center'}">End</div>
            </div>
        </div>
    </div>
    <!-- End of header stage section -->


    <p>{!v.Cohort.cohort.Id}</p>
    <p>{!v.CurrentHero.Name}</p>

    
    <!--Begin component display (depends on CurrentStage attribute)-->
    <div>
        <aura:if isTrue="{!v.Stage=='Start' ? true : false}">
            <c:QCInterviewStart Cohort="{!v.Cohort}"/>
        </aura:if>
    </div>
    
     
    <aura:if isTrue="{!v.Stage=='Interview' ? true : false}">
        <c:QCInterviewQA CohortId="{!v.Cohort.cohort.Id}" Hero = "{!v.CurrentHero}"/>
    </aura:if>
    
    
    <aura:if isTrue="{!v.Stage=='End' ? true : false}">
        <c:QCInterviewHeroReview/>
    </aura:if>
    
    
    <aura:set attribute="else">
        <p>An unknown error has occurred.</p>
    </aura:set>
    <!--End component display-->
    
    
</aura:component>