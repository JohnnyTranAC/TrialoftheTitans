<!--Order of understanding. 
    button appears. 
    when clicked flagInProgress becomes true and makes the submit appear. 
    when clicked while already true, it becomes false and it disappears. 

    This component has been simplified due to time constraints. missing subcatagory that another itteration was working on. 
-->


<template>
    <!-- This component allows the user to flag a question for review. -->
        <lightning-button label="Flag Question" variant="brand" onclick={flagButtonClicked} alternative-text="Flag for Review" title="Flag for Review"></lightning-button>
    <template if:true={isModalOpen}>
        <!-- Modal/Popup Box LWC starts here -->
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                    <lightning-icon icon-name="utility:close"
                        alternative-text="close"
                        variant="inverse"
                        size="small" ></lightning-icon>
                    <span class="slds-assistive-text">Close</span>
                </button>
                <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Flag question for Trainer Review</h2>
            </header>
            <!-- Modal/Popup Box LWC body starts here -->
            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                <template if:true={flagInProgress}>
                    <!--<lightning-button-icon icon-name="utility:report_issue" variant="bare" onclick={unflagButtonClicked} alternative-text="Cancel Flag" title="Cancel Flag"></lightning-button-icon>-->
                    <lightning-combobox name="category" label="Category" value={categoryValue} options={categoryList} onchange={categoryChanged}></lightning-combobox>
                    <lightning-textarea name="flagNotesInput" class = "flagNotesInput" required="false" value="" placeholder="Add Notes" maxlength={maxNotesLength} message-when-too-long="Maximum length of notes is {maxNotesLength} characters"></lightning-textarea>
               </template>
            </div>
            <!-- Modal/Popup Box LWC footer starts here -->
            <footer class="slds-modal__footer">
                <button class="slds-button slds-button_neutral" onclick={closeModal} title="Cancel">Cancel</button>
                <lightning-button variant="success" label="Submit" title="Submit" onclick={submitButtonClicked}></lightning-button>
            </footer>
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
</template>
        <!-- The Submitted state is displayed after the Submit button has been clicked.
             In this case, a message should be displayed, confirming the submission.
         -->
</template>