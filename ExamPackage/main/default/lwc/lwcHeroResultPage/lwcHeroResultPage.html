<!--
    Author: Jacob Johnson
    Date modified: 9/30/2021
    Description: Displays titans, their exams and their exam results
-->

<template>
    <div class="wrapper">
        <div class="flex-wrapper">
            <div class="titan-tab-group">
                <template if:false={examClicked}>
                    <div class='titan-tab' onclick={onTitanClick}>All Titans</div>
                    <template for:each={titanTabPanel} for:item="myTitan">
                        <div key={myTitan}>
                            <div class='titan-tab' onclick={onTitanClick}>{myTitan}</div>
                        </div>
                        
                    </template>
                </template>
                <template if:true={examClicked}>
                    <div class="back-exams-btn" onclick={onBackBtnClick}>Back to exam list</div>
                </template>

            </div>

            <div class="main-panel">
                <template if:false={pbpClicked}>
                    <template if:false={examClicked}>
                        <template for:each={examListPanel} for:item="myExam">
                            <div key={myExam.Exam__r.Id} class="exam-btn-group exam-btn teest" onclick={onExamClick}>
                                {myExam.Exam__r.Name} 
                            </div>
                        </template>
                    </template>
                    <template if:true={examClicked}>
                        <!--<c-lwc-hero-results examResultId={examResultId} ></c-lwc-hero-results>
                        --></template>
                </template>
                <template if:true={pbpClicked}>
                    <!--<c-lwc-exam-results-pool-page examResultId={examResultId} ></c-lwc-exam-results-pool-page>-->
                </template>
            </div>

            <div class="right-panel">
                <template if:true={examClicked}>
                    <div class="right-panel-btn-group">
                        <template if:false={pbpClicked}>
                            <div class="pbp-btn" onclick={onPbpClick}>Pool by Pool</div>
                        </template>
                        <template if:true={pbpClicked}>
                            <div class="back-btn" onclick={onBackDetailBtnClick}>Test Result Details</div>
                        </template>
                    </div>
                </template>
            </div>
        </div>
        <!-- Code Assessment Component Here Worked on By Saief Sayed -->

        <div class="wrapper">

            <br></br>
            <h2>Code Assessment</h2>
            <div class='titan-tab onCAClick' onclick={onCAClick}>See Code Assesment Results</div>
            <br></br>
            <template if:true={caClicked}>
                <lightning-card variant="Narrow" title="Code Assesment Results">
                    <!-- Possibly implement search functionality in next iteration-->
                    <p class="slds-p-horizontal_small">
                        <template for:each={results} for:item="r">
                            <div class="kor" key={r.Id}>  
                                <!-- <c-lwc-result-item resultId={r.Id} ></c-lwc-result-item> -->
                            </div>
                        </template>
                    </p>
                </lightning-card>

            </template>

        </div>

    </div>
</template>