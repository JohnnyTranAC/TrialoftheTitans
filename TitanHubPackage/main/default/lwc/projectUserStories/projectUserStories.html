<template>
    <div class="projectComponent">
        <div class="title">
            <span class="slds-text-heading_large">{projectName}</span>
        </div>
         
         <div class="projectBody">
   
           <!-- Project display component is the clickable area for collaspable header -->
           <div class="projectDisplayComponent">
                <div class="skills">
                    <template for:each={skillList} for:item="skill">
                        <lightning-button key={skill.Id} label={skill.Name} data-name={skill.Name} onclick={showFilter}></lightning-button>
                    </template>
                    <template if:true={filterSelected}>
                        <lightning-button variant="destructive" label="Clear Filter" onclick={showAllStories}></lightning-button>
                    </template>
                </div>
            </div>
        </div>
    </div>
    <template if:true={filteredUserStories}>
        <lightning-accordion>
            <!-- Lightning accordion has to have one section open by default,
                but all user stories should be collapsed unless opened by user,
                so this hidden accordion section is a workaround -->
            <lightning-accordion-section class="hidden-accordion"></lightning-accordion-section>
            <template for:each={filteredUserStories} for:item="userStory">
                <lightning-accordion-section key={userStory.Id} label={userStory.Name}>
                    <span class="slds-text-body_regular">{userStory.Description__c}</span>
                    <div class="slds-grid">
                        <template if:true={userStory.Wireframe__c}>
                            <div class="slds-col">
                                <a class="slds-button slds-button_neutral" href={userStory.Wireframe__c}>Wireframe</a>
                            </div>
                        </template>
                        <template if:true={userStory.Github__c}>
                            <div class="slds-col">
                                <a class="slds-button slds-button_neutral" href={userStory.Github__c}>GitHub</a>
                            </div>
                        </template>
                        <template if:true={userStory.Video__c}>
                            <div class="slds-col">
                                <a class="slds-button slds-button_neutral" href={userStory.Video__c}>Video</a>
                            </div>
                        </template>
                    </div>
                </lightning-accordion-section>
            </template>
        </lightning-accordion>
    </template>
</template>